# This is a version of ../t/conf/perlcritic.conf that's more useful
# for syntax highlighting, in that
# * It works with flymake
# * It doesn't highlight things that aren't likely to be fixable
#   without setting aside a larger amount of time, e.g. RequireBriefOpen
#
# The downside of this is obviously that it's a copy-paste job.
#

severity=stern

[BuiltinFunctions::ProhibitSleepViaSelect]
[BuiltinFunctions::ProhibitStringyEval]
[BuiltinFunctions::RequireGlobFunction]
[ClassHierarchies::ProhibitOneArgBless]
[ControlStructures::ProhibitMutatingListFunctions]
[InputOutput::ProhibitInteractiveTest]
[Modules::ProhibitEvilModules]
[Modules::RequireBarewordIncludes]
[-Subroutines::ProhibitExplicitReturnUndef]
[Subroutines::ProhibitNestedSubs]
[TestingAndDebugging::ProhibitNoStrict]
[ValuesAndExpressions::ProhibitLeadingZeros]
[Variables::ProhibitConditionalDeclarations]
[Variables::RequireLexicalLoopIterators]
[TestingAndDebugging::ProhibitNoWarnings]
allow = uninitialized numeric redefine
[Subroutines::ProhibitSubroutinePrototypes]
severity = 2
[InputOutput::ProhibitBarewordFileHandles]
severity = 2
[InputOutput::ProhibitTwoArgOpen]
severity = 2
[Modules::ProhibitMultiplePackages]
severity = 2
[ValuesAndExpressions::ProhibitCommaSeparatedStatements]
severity = 2
[Subroutines::RequireFinalReturn]
severity = 2
[Subroutines::RequireArgUnpacking]
severity = 2
[Variables::RequireLocalizedPunctuationVars]
allow = %ENV
[TestingAndDebugging::RequireUseStrict]
equivalent_modules = NAP::policy
[TestingAndDebugging::RequireUseWarnings]
equivalent_modules = NAP::policy
[Modules::RequireTrue]
[-Modules::RequireEndWithOne]


#This one must be disabled, since flymake will create temp files which
#by definition never match the specified package name
[-Modules::RequireFilenameMatchesPackage]

#Silenced because it's likely to take too much time to fix
[-InputOutput::RequireBriefOpen]
