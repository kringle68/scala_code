<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Test page</title>
    <style>
        .error {
            background:red; color: black; font-weight:bold
        }
        .success {
            background:green; color: white; font-weight:bold
        }
        .details {
            font-size: 0.8em;
            font-weight: normal;
        }
        table, td, th {
            border-collapse: collapse;
            border: 1px solid black;
            background: #DDD;
        }
        th {
            padding: 3px 10px;
        }
    </style>

    <!-- Load some external files -->
    <script src="externaljsfile.js"></script>
    <script src="../javascript/handheldmimetest.js"></script>
    <script src="/jquery/jquery-1.7.min.js"></script>
</head>
<body>
    <h1>Client Capability and Compatibility matrix</h1>

    <!-- by default, we say that nothing works, then overwrite this if things do work -->
    <div id="results">
        <p class="error">No Javascript working at all!</p>
    </div>


    <!-- define the tests -->
    <script type="text/javascript">
        var tests = [
            { name : 'Inline JavaScript',
              test : function(){ return true; }
            },
            { name : 'External JavaScript served as aplication/javascript',
              test : window.external_javascript
            },
            { name : 'External JavaScript served as application/x-javascript',
              test : window.external_javascript_app_xjavascript
            },
            { name : 'jQuery loading',
              test : function(){ if (jQuery){return true} }
            },
            { name : 'DOM level 1 - createElement()',
              test : function(){ if (document.createElement('p').tagName == 'P'){return true} }
            },
            { name : 'DOM level 1 - setAttribute()',
              test : function(){ var inp = document.createElement('input');
                                     inp.setAttribute("type","button");
                                 return true; }
            },
            { name : 'DOM level 1 - getAttribute()',
              test : function(){ var inp = document.createElement('input');
                                     inp.setAttribute("type","button");
                                 if (inp.getAttribute('type') == 'button'){return true} }
            },
            {}
        ]
    </script>

    <!-- run the tests -->
    <script type="text/javascript">
        window.onload = function(){
            output = '';
            for (var i=0;i<tests.length;i++){
                if (!tests[i].name) continue;
                var result = 'No';
                try {
                    if (tests[i].test()) result = 'Yes!';
                }
                catch(err){
                    result += '<span class="details"> : ' + err + '</span>';
                }
                var elcl = (result == 'Yes!') ? 'success' : 'error';
                output += '<tr><td>'+ tests[i].name +'</td><td class="'+ elcl +'">'+ result +'</td></tr>';
            }
            document.getElementById('results').innerHTML =
                '<table><tr><th>Test</th><th>Result</th></tr>' +
                output +
                '</table>';
        }
    </script>


</body>
</html>
