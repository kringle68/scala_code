# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET         /                           controllers.RedirectControllerImpl.index

# Shipping Options
GET         /shipping/options           controllers.OptionsControllerImpl.searchShippingOptions
GET         /api-docs/shipping/options  pl.matisoft.swagger.ApiHelpController.getResource(path = "/shipping/options")

# Shipping Option
PUT        /shipping/option/:avId       controllers.ShippingOptionControllerImpl.updateOption(avId: Int)
GET        /api-docs/shipping/option    pl.matisoft.swagger.ApiHelpController.getResource(path = "/shipping/option")

# Authorisation

GET         /auth/login_info            controllers.AuthControllerImpl.login_info
POST        /auth/login                 controllers.AuthControllerImpl.login
POST        /auth/logout                controllers.AuthControllerImpl.logout
GET         /api-docs/auth              pl.matisoft.swagger.ApiHelpController.getResource(path = "/auth")

# Because we may need people to accept our https cert we provide an end point allowing
# clients to loop around to us and back to ensure users are prompted to accept it.
GET         /redirect                   controllers.RedirectControllerImpl.redirect(returnURL :String)

# Routing for Swagger

GET         /docs/                      controllers.Assets.at(path="/public/swagger/", file="index.html")
GET         /docs/*file                 controllers.Assets.at(path="/public/swagger/", file)
GET         /resources/*file            controllers.Assets.at(path="/public/swagger/resources", file)

GET         /api-docs                   pl.matisoft.swagger.ApiHelpController.getResources

#Health
GET         /health                     controllers.HealthControllerImpl.getHealth
GET         /api-docs/health            pl.matisoft.swagger.ApiHelpController.getResource(path = "/health")

#TODO: Make fromDate, toDate Strings into :LocalDate perhaps?
GET         /restrictions/delivery      controllers.RestrictionsControllerImpl.get(shippingAvailabilityId :List[Int], fromDate :String, toDate :String, stage :List[String])
PUT         /restrictions/delivery      controllers.RestrictionsControllerImpl.update
POST        /restrictions/resend        controllers.RestrictionsControllerImpl.resend
GET         /restrictions/delivery/blah controllers.RestrictionsControllerImpl.blah(op: String, fromDate: String, toDate: String, dcCode:String)
GET         /api-docs/restrictions/delivery pl.matisoft.swagger.ApiHelpController.getResource(path = "/restrictions/delivery")
